---
problem_type: file-process
cmdline: "xargs"
title:  "Задача №1: Построяване и изпълнение на команди от стандартния вход"
---
0. Условие на задачата

   Целта на задачата е да се реализира проста команда `{{ page.cmdline }}`.

   0. Основна функционалност за обработка на аргументи

      На командния ред на `{{ page.cmdline }}` се подава друга команда, която трябва да се изведе заедно с допълнително подадени аргументи от стандартния вход.

      Например, ако програмата ви се извика по следния начин:
      ```
      ./{{ page.cmdline }} ls -la
      ```
      с подадени следните редове на стандартния вход:
      ```
      /tmp/
      /tmp/dir1
      /tmp/dir10
      /tmp/dir2
      ```
      то на стандартния изход трябва да се изведе командата `ls` с аргументи `-la`, `/tmp/`, `/tmp/dir1`, `/tmp/dir10`, `/tmp/dir2`:
      ```
      ls -la /tmp/ /tmp/dir1 /tmp/dir10 /tmp/dir2
      ```

   0. Основна функционалност за изпълнение на командата

      Построената команда по описания по-горе начин трябва да се изпълни.

      В случай, че командата приключи успешно (върне 0 като резултат), то вашата програма също трябва да приключи успешно (върне 0 като резултат).
      В случай, че командата не приключи успешно (върне различно от 0 като резултат), то вашата програма също не трябва да приключва успешно (върне различно от 0 като резултат).

      Например, ако програмата ви се извика по следния начин:
      ```
      ./{{ page.cmdline }} ls -la
      ```
      с подадени следните редове на стандартния вход:
      ```
      /tmp/
      /tmp/dir1
      /tmp/dir10
      /tmp/dir2
      ```
      то на стандартния изход трябва да се изведе командата `ls` с аргументи `-la`, `/tmp/`, `/tmp/dir1`, `/tmp/dir10`, `/tmp/dir2`; и също командата `ls` трябва да се извика със същите аргументи:
      ```
      ls -la /tmp/ /tmp/dir1 /tmp/dir10 /tmp/dir2
      /tmp/:
      total 20
      drwxrwxrwt 1 root root 4096 Jul 16 08:19 .
      drwxr-xr-x 1 root root 4096 Jul 16 08:19 ..
      drwxr-xr-x 2 root root 4096 Jul 16 08:19 dir1
      drwxr-xr-x 2 root root 4096 Jul 16 08:19 dir10
      drwxr-xr-x 2 root root 4096 Jul 16 08:19 dir2

      /tmp/dir1:
      total 8
      drwxr-xr-x 2 root root 4096 Jul 16 08:19 .
      drwxrwxrwt 1 root root 4096 Jul 16 08:19 ..
      -rw-r--r-- 1 root root    0 Jul 16 08:19 c

      /tmp/dir10:
      total 8
      drwxr-xr-x 2 root root 4096 Jul 16 08:19 .
      drwxrwxrwt 1 root root 4096 Jul 16 08:19 ..
      -rw-r--r-- 1 root root    0 Jul 16 08:19 a

      /tmp/dir2:
      total 8
      drwxr-xr-x 2 root root 4096 Jul 16 08:19 .
      drwxrwxrwt 1 root root 4096 Jul 16 08:19 ..
      ```

   0. Обработка на грешки

      Ако програмата ви не може да чете от стандартния вход, то програмата трябва да изведе съобщение на стандартния изход за грешка (stderr).
      ```
      ./{{ page.cmdline }} ls
      ```
      съобщението трябва да бъде оформено по следния начин:
      ```
      ./{{ page.cmdline }}: error reading 'standard input': Input/output error
      ```

      Ако `{{ page.cmdline }}` не може да изпише командата на стандартния изход, то програмата трябва да изведе съобщение на стандартния изход за грешка (stderr). Например, ако дискът е пълен:
      ```
      ./{{ page.cmdline }} ls > /dev/full
      ```
      съобщението трябва да бъде оформено по следния начин:
      ```
      ./{{ page.cmdline }}: error writing 'standard output': No space left on device
      ```

      Ако подадената команда не е име на файл, то програмата трябва да изведе съобщение `No such file or directory`. Например, ако като първи аргумент на програмата се въведе `./aa` и в текущата директория няма файл с такова име, то програмата трябва да формира следното съобщение:
      ```
      ./{{ page.cmdline }}: ./aa: No such file or directory
      ```

      Ако `fork` не успее да създаде нов процес, то трябва да се изведе съобщение за грешка:
      ```
      ./{{ page.cmdline }}: fork: Cannot allocate memory
      ```

0. Критерий за оценка

   0. Правилно четене от файл - 3 точки
   0. Правилно прочитане на цялото съдържание на файл - 5 точки
   0. Правилно конструиране на командата за изпълнение - 12 точки
   0. Правилно създаване на нов процес - 6 точки
   0. Правилно извикване на командата - 12 точки
   0. Правилно приключване на програмата - 6 точки
   0. Обработка на грешки - 3 точки
   0. Правилно освобождаване на използваните ресурси - 3 точки

{% include requirements-cmd.md %}
